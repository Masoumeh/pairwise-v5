<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>KITAB - D3 Visualisation</title>
  <link rel="stylesheet" type="text/css" href="stylesheets/style.css">
  <link rel="stylesheet" type="text/css" href="stylesheets/loader.css">

  <script type="text/javascript" src="javascripts/vendors/d3.v4.js"></script>
  <script type="text/javascript" src="javascripts/vendors/FileSaver.js"></script>
  <script type="text/javascript" src="javascripts/vendors/d3.v4.js"></script>
  <script type="text/javascript" src="javascripts/js/process-coloring.js"></script>
  <script type="text/javascript" src="javascripts/js/import-export.js"></script>
  <link href="https://fonts.googleapis.com/css?family=Amiri" rel="stylesheet">


</head>

<body>
  <!-- <button onclick="window.exportCSV()">Export Back to CSV</button> -->
  

  <!-- <label class="switch">
    <input type="checkbox" checked onclick="window.toggleMarking()">
    <span class="slider round"></span>
  </label> -->
  <div><a class="nav-btn" href='/'>KITAB Visualisation</a></div>

  <div class="fluid-row">
    <div class="col-lg-6">
        <div>
									<input type="radio" id="v2" name="version" value="2">
									<label for="v2">V2 - January 2019</label>
								</div>

								<div>
									<input type="radio" id="v3" name="version" value="3">
									<label for="v3">V3 - Aggregated 2019</label>
								</div>
        <div><p class="instruction">Click 'Import CSV/SRT' and selected the SRT file to color code the aligned passages. Toggle Marking will remove the color coding</p></div>
        <button onclick="fileInput.click()">Import CSV/SRT</button>
        <button onclick="window.toggleMarking()">Toggle Marking</button>
        <input id="fileInput" type="file" accept="text/csv" onchange="window.loadCSV(this)" hidden />
        <table id="dataTable" class="data-table" style="display: none">
    </div>
    
    <div class="col-lg-6">
        <div class='row-count instruction'></div>
        <div class='srt-details'>
          <p></p>
        </div>
    </div>
  </div>
 
  
    <tbody>
      <tr id="rowTemplate" hidden>

        <!-- ##2 START -->
        <!-- <td class="questioner">
          <select>
            <option value="0">Empty</option>
            <option value="1">Yes</option>
            <option value="2">No</option>
            <option value="3">Kind of</option>
            <option value="4">Certainly Not</option>
          </select>
        </td> -->
        <!-- ##2 END -->

        <td>{{book1Name}}</td>
        <td>{{book2Name}}</td>
        <td ><div id="book2Alignment">{{book1Content}}</div></td>
        <td><div id="book1Alignment">{{book2Content}}</div></td>
      </tr>
    </tbody>
  </table>
  <div id="bulkLoader" class="book-content" style="display: none; margin-top: 60px">
    <div id="fountainG" style="top: 40%">
      <div id="fountainG_1" class="fountainG"></div>
      <div id="fountainG_2" class="fountainG"></div>
      <div id="fountainG_3" class="fountainG"></div>
      <div id="fountainG_4" class="fountainG"></div>
      <div id="fountainG_5" class="fountainG"></div>
      <div id="fountainG_6" class="fountainG"></div>
      <div id="fountainG_7" class="fountainG"></div>
      <div id="fountainG_8" class="fountainG"></div>
    </div>
  </div>

  <script src="//code.jquery.com/jquery-1.11.1.min.js"></script>

  <script>
  var Isaggregated;

  if (localStorage.getItem('Isaggregated') == '') {
					localStorage.setItem('Isaggregated', 2);
				}
				
				if (localStorage.getItem('Isaggregated') == 2)
					$("#v2").prop("checked", true);
				else
					$("#v3").prop("checked", true);


				$("input[name='version']").change(function () {
					Isaggregated = $("input[name='version']:checked").val();
					localStorage.setItem('Isaggregated', $("input[name='version']:checked").val());
				});
  </script>
</body>

</html>